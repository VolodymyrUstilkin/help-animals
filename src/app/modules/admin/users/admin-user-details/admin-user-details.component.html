<div class="admin-details">

  <form #sendForm>
    <div *ngIf="editedUser.id">
      <h4 class="caption">Перегляд (Редагування) користувача:</h4>
      <label class="label admin-details-form-field-label" for="id">id:</label>
      <input class="input admin-details-form-field-input" id="id" name="id" [(ngModel)]="editedUser.id"
             readonly="readonly"/>
    </div>

    <div *ngIf="!editedUser.id">
      <h4 class="caption">Створення нового користувача:</h4>
    </div>

    <div class="admin-details-form-field-container">
      <label class="label admin-details-form-field-label" for="login">Логін:</label>
      <input class="input admin-details-form-field-input"
             #login
             id="login" name="login" [(ngModel)]="editedUser.login"
             [required]="!editedUser.id" [readonly]="formReadonlyFieldCheck()" type="text"/>
      <div class="input-error" *ngIf="!login.value">Обов'язкове</div>
    </div>

    <div class="admin-details-form-field-container">
      <label class="label admin-details-form-field-label" for="password">Пароль:</label>
      <input class="input admin-details-form-field-input"
             id="password"
             #password name="password"
             [(ngModel)]="editedUser.password"
             [required]="!editedUser.id"
             [readonly]="formReadonlyFieldCheck()" type="password"/>
      <div class="input-error" *ngIf="!password.value && !editedUser.id">Обов'язкове</div>
    </div>

    <div class="admin-details-form-field-container">
      <label class="label admin-details-form-field-label" for="passwordConfirm">Підтвердження паролю:</label>
      <input class="input admin-details-form-field-input"
             id="passwordConfirm"
             #passwordConfirm name="passwordConfirm"
             [(ngModel)]="editedUser.passwordConfirm"
             [required]="!editedUser.id"
             [readonly]="formReadonlyFieldCheck()" type="password"/>
      <div class="input-error" *ngIf="password.value !== passwordConfirm.value">Паролі не співпадають</div>
    </div>

    <div class="admin-details-form-field-container">
      <label class="label admin-details-form-field-label" for="name">Ім'я та прізвище:</label>
      <input class="input admin-details-form-field-input"
             #name
             id="name" name="name"
             [(ngModel)]="editedUser.name"
             required="required" [readonly]="formReadonlyFieldCheck()" type="text"/>
      <div class="input-error" *ngIf="!name.value">Обов'язкове</div>
    </div>

    <div class="admin-details-form-field-container">
      <label class="label admin-details-form-field-label" for="email">Email:</label>
      <input class="input admin-details-form-field-input" id="email" name="email" [(ngModel)]="editedUser.email"
             [readonly]="formReadonlyFieldCheck()" type="text"/>
    </div>

    <div class="admin-details-form-field-container">
      <label class="label admin-details-form-field-label">Телефони:</label>
      <label for="phone1"></label>
      <input aria-labelledby="phones-label" class="input admin-details-form-field-input" id="phone1" name="phone1"
             [(ngModel)]="editedUser.phone1"
             [readonly]="formReadonlyFieldCheck()" type="text"/>
      <label for="phone2"></label>
      <input class="input admin-details-form-field-input" id="phone2" name="phone2" [(ngModel)]="editedUser.phone2"
             [readonly]="formReadonlyFieldCheck()" type="text"/>

    </div>

    <p class="label admin-details-form-field-container">Керування правами доступа:</p>

    <section class="key-value-table-style">
      <label class="label admin-details-form-field-label" for="{{userAccessFieldNames.IS_ACTIVE}}">Діючий (активний)
        користувач:</label>
      <input class="input admin-details-form-field-input" id="{{userAccessFieldNames.IS_ACTIVE}}"
             name="{{userAccessFieldNames.IS_ACTIVE}}"
             type="checkbox" [(ngModel)]="editedUser.permissions.isActive" [readonly]="formReadonlyFieldCheck()"/>

      <label class="label admin-details-form-field-label"
             for="{{userAccessFieldNames.CAN_CREATE_AND_CLOSE_ANIMAL_REQUESTS}}">Отримання та закриття заяв про
        знайдених тварин:</label>
      <input class="input admin-details-form-field-input"
             id="{{userAccessFieldNames.CAN_CREATE_AND_CLOSE_ANIMAL_REQUESTS}}"
             name="{{userAccessFieldNames.CAN_CREATE_AND_CLOSE_ANIMAL_REQUESTS}}"
             type="checkbox" [(ngModel)]="editedUser.permissions.canCreateAndCloseAnimalRequests"
             [readonly]="formReadonlyFieldCheck()"/>

      <label class="label admin-details-form-field-label"
             for="{{userAccessFieldNames.CAN_ADD_EDIT_AND_REMOVE_NEWS}}">Керування новинами:</label>
      <input class="input admin-details-form-field-input"
             id="{{userAccessFieldNames.CAN_ADD_EDIT_AND_REMOVE_NEWS}}"
             name="{{userAccessFieldNames.CAN_ADD_EDIT_AND_REMOVE_NEWS}}"
             type="checkbox" [(ngModel)]="editedUser.permissions.canAddEditAndRemoveNews"
             [readonly]="formReadonlyFieldCheck()"/>

      <label class="label admin-details-form-field-label" for="{{userAccessFieldNames.CAN_ADD_AND_REMOVE_ANIMALS}}">Додавання/видалення
        тварин:</label>
      <input class="input admin-details-form-field-input" id="{{userAccessFieldNames.CAN_ADD_AND_REMOVE_ANIMALS}}"
             name="{{userAccessFieldNames.CAN_ADD_AND_REMOVE_ANIMALS}}"
             type="checkbox"
             [(ngModel)]="editedUser.permissions.canAddAndRemoveAnimals"
             [readonly]="formReadonlyFieldCheck()"/>

      <label class="label admin-details-form-field-label" for="{{userAccessFieldNames.CAN_EDIT_ANIMALS}}">Редагування
        карточок
        тварин:</label>
      <input class="input admin-details-form-field-input" id="{{userAccessFieldNames.CAN_EDIT_ANIMALS}}"
             name="{{userAccessFieldNames.CAN_EDIT_ANIMALS}}"
             type="checkbox"
             [(ngModel)]="editedUser.permissions.canEditAnimals"
             [readonly]="formReadonlyFieldCheck()"/>

      <label class="label admin-details-form-field-label" for="{{userAccessFieldNames.CAN_ADD_EDIT_AND_REMOVE_USERS}}">Створення/видалення/редагування
        користувачів:</label>
      <input class="input admin-details-form-field-input" id="{{userAccessFieldNames.CAN_ADD_EDIT_AND_REMOVE_USERS}}"
             name="{{userAccessFieldNames.CAN_ADD_EDIT_AND_REMOVE_USERS}}"
             type="checkbox"
             [(ngModel)]="editedUser.permissions.canAddEditAndRemoveUsers"
             [readonly]="formReadonlyFieldCheck()"/>
    </section>

    <button class="button admin-details-form-field-submit-button" type="button"
            *ngIf="editedUser.id && currentUser.permissions.canAddEditAndRemoveUsers"
            [disabled]="!sendForm.checkValidity() || password.value !== passwordConfirm.value"
            (click)="submitEditUser()">Підтвердити зміни
    </button>

    <button class="button admin-details-form-field-submit-button" type="button"
            *ngIf="!editedUser.id && currentUser.permissions.canAddEditAndRemoveUsers"
            [disabled]="!sendForm.checkValidity() || password.value !== passwordConfirm.value"
            (click)="submitAddUser()">Додати користувача
    </button>
  </form>

  <div class="admin-details-form-field-container" *ngIf="editedUser.lastEditDate">
    <label class="label" for="dateLastEdit">Дата останнього редагування:</label>
    <input class="input" id="dateLastEdit" value="{{editedUser.lastEditDate}}"
           readonly="readonly"/>
  </div>

  <div class="admin-details-form-field-container" *ngIf="editedUser.createDate">
    <label class="label admin-details-form-field-label" for="dateAdded">Дата створення:</label>
    <input class="input admin-details-form-field-input" id="dateAdded" value="{{editedUser.createDate}}"
           readonly="readonly"/>
  </div>

  <div class="admin-details-form-field-container" *ngIf="editedUser.lastEditDate">
    <label class="label admin-details-form-field-label" for="editedBy">Зміни внесені користувачем: </label>
    <input class="input admin-details-form-field-input" id="editedBy" value="{{editedUser.editedBy}}"
           readonly="readonly"/>
  </div>
</div>


